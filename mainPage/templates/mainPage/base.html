{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{title}}</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"/>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
    // Get all the input fields with the class 'sum-input'
    const inputFields = document.querySelectorAll(".sum-input");

    // Get the <td> element where you want to display the sum
    const sumTd = document.getElementById("sum-td");

    // Function to calculate and update the sum
    function updateSum() {
        let sum = 0;
        inputFields.forEach((inputField) => {
            sum += parseFloat(inputField.value) || 0;
        });

        // Update the content of the <td> element with the calculated sum
        sumTd.textContent = sum;
    }

    // Listen for changes in the input fields
    inputFields.forEach((inputField) => {
        inputField.addEventListener("change", updateSum);
    });

    // Initial sum calculation and update
    updateSum();

    });
    </script>



    <style>
  .divider {
    border: none;
    height: 5px;
    background-color: #000;
    border-radius: 5px;
  }

      .hr2 {
        border: 0;
        height: 3px;
        background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(9, 84, 132), rgba(0, 0, 0, 0));
      }

    .hidden {
      display: none;
    }

        .hidden2 {
      display: none;
    }

.material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24
}

    </style>

    <script>

        var currentInputIndex = 3; // Index of the currently visible input field
    function toggleNextInput() {
      var nextInputIndex = currentInputIndex + 1;
      var currentInput = document.getElementById("input" + currentInputIndex);
      var nextInput = document.getElementById("input" + nextInputIndex);

      nextInput.classList.remove("hidden"); // Show the next input field

      currentInputIndex = nextInputIndex; // Update the current input index

      if (nextInputIndex === 6) {
        // Disable the button if all inputs are visible
        document.querySelector("button").disabled = true;
      }

}





    </script>



    <!--    Toggle Next Kantar-->

</head>
<body>


<!-- Modal -->
<div class="modal" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
     aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Kantar</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="" method="post">
                    {% csrf_token %}
                    {{kantarForm.kantar1}}
                    {{kantarForm.kantar2}}
                    {{kantarForm.kantar3}}
                    {{kantarForm.kantar4}}
                    {{kantarForm.kantar5}}
                    {{kantarForm.kantar6}}
                    {{kantarForm.tarih}}
                    {{kantarForm.tedarikci.label}}
                    {{kantarForm.tedarikci}}
                    {{kantarForm.odeme.label}}
                    {{kantarForm.odeme}}
                    {{kantarForm.nakliyat.label}}
                    {{kantarForm.nakliyat}}
                    {{kantarForm.note}}


                    <i onclick="toggleNextInput()" class="material-symbols-outlined">add_box</i>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
                        <button type="submit" name="faturasiz" class="btn btn-primary">Kaydet</button>
                    </div>
                    <!--        <button type="submit">Kaydet</button>-->
                </form>

            </div>

        </div>
    </div>
</div>

<!--Modal end-->




<!--Modal 2 -->
<div class="modal" id="exampleModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle2"
     aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle2">Kantar</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="" method="post">
                    {% csrf_token %}
                    {{kantarFormu.kantar1}}
                    {{kantarFormu.kantar2}}
                    {{kantarFormu.tedarikci.label}}
                    {{kantarFormu.tedarikci}}
                    {{kantarFormu.odeme.label}}
                    {{kantarFormu.odeme}}
                    {{kantarFormu.nakliyat.label}}
                    {{kantarFormu.nakliyat}}
                    {{kantarFormu.note}}
                    {{kantarFormu.faturaNo}}
                    {{kantarFormu.faturaTarihi.label}}
                    {{kantarFormu.faturaTarihi}}



<!--                    <i onclick="toggleNextInput()" class="material-symbols-outlined">add_box</i>-->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Kapat</button>
                        <button type="submit" name="faturali" class="btn btn-primary">Kaydet</button>
                    </div>
                    <!--        <button type="submit">Kaydet</button>-->
                </form>

            </div>

        </div>
    </div>
</div>



<!--Modal2 End-->


{% if messages %}
<ul class="alert alert-primary">
    {% for message in messages %}
    <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

{% block content %}
{% endblock %}

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
<script src="{% static 'weighingCalculation.js' %}"></script>

</body>
</html>